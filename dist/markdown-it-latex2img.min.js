/*! markdown-it-latex2img 0.0.4 https://github.com/makergyt/markdown-it-latex2img @license MIT */!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).markdownitLatex2img=e()}}((function(){return function e(r,t,n){function o(s,c){if(!t[s]){if(!r[s]){var l="function"==typeof require&&require;if(!c&&l)return l(s,!0);if(i)return i(s,!0);var f=new Error("Cannot find module '"+s+"'");throw f.code="MODULE_NOT_FOUND",f}var u=t[s]={exports:{}};r[s][0].call(u.exports,(function(e){return o(r[s][1][e]||e)}),u,u.exports,e,r,t,n)}return t[s].exports}for(var i="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(e,r,t){"use strict";function n(e,r){let t,n,o=e.posMax,i=!0,s=!0;return t=r>0?e.src.charCodeAt(r-1):-1,n=r+1<=o?e.src.charCodeAt(r+1):-1,(32===t||9===t||n>=48&&n<=57)&&(s=!1),32!==n&&9!==n||(i=!1),{can_open:i,can_close:s}}function o(e,r){let t,o,i,s,c;if("$"!==e.src[e.pos])return!1;if(s=n(e,e.pos),!s.can_open)return r||(e.pending+="$"),e.pos+=1,!0;for(t=e.pos+1,o=t;-1!==(o=e.src.indexOf("$",o));){for(c=o-1;"\\"===e.src[c];)c-=1;if((o-c)%2==1)break;o+=1}return-1===o?(r||(e.pending+="$"),e.pos=t,!0):o-t==0?(r||(e.pending+="$$"),e.pos=t+1,!0):(s=n(e,o),s.can_close?(r||(i=e.push("math_inline","math",0),i.markup="$",i.content=e.src.slice(t,o)),e.pos=o+1,!0):(r||(e.pending+="$"),e.pos=t,!0))}function i(e,r,t,n){let o,i,s,c,l,f=!1,u=e.bMarks[r]+e.tShift[r],a=e.eMarks[r];if(u+2>a)return!1;if("$$"!==e.src.slice(u,u+2))return!1;if(u+=2,o=e.src.slice(u,a),n)return!0;for("$$"===o.trim().slice(-2)&&(o=o.trim().slice(0,-2),f=!0),s=r;!f&&(s++,!(s>=t))&&(u=e.bMarks[s]+e.tShift[s],a=e.eMarks[s],!(u<a&&e.tShift[s]<e.blkIndent));)"$$"===e.src.slice(u,a).trim().slice(-2)&&(c=e.src.slice(0,a).lastIndexOf("$$"),i=e.src.slice(u,c),f=!0);return e.line=s+1,l=e.push("math_block","math",0),l.block=!0,l.content=(o&&o.trim()?o+"\n":"")+e.getLines(r+1,s,e.tShift[r],!0)+(i&&i.trim()?i:""),l.map=[r,e.line],l.markup="$$",!0}r.exports=(e,r)=>{(r=r||{}).server=r.server||"https://math.now.sh",r.style=r.style||"";const t=e=>encodeURIComponent(e).replace("(","%28").replace(")","%29");e.inline.ruler.after("escape","math_inline",o),e.block.ruler.after("blockquote","math_block",i,{alt:["paragraph","reference","blockquote","list"]}),e.renderer.rules.math_inline=(e,n)=>(e=>{try{return`<img src="${r.server}?inline=${t(e)}" style="${r.style}"/>`}catch(r){return console.error(r),e}})(e[n].content),e.renderer.rules.math_block=(e,n)=>(e=>{try{return`<img src="${r.server}?from=${t(e)}" style="display:block;margin: 0 auto;${r.style}"/><br>`}catch(r){return console.error(r),e}})(e[n].content)}},{}]},{},[1])(1)}));
